PROCEDURE LIM_DAT()
PRIVATE F0:=CTOD('  /  /  ')
TOR = TORO
REPLACE FECSER WITH F0, TORO WITH SPACE(4), INSEMI WITH SPACE(4), NROSER WITH 0
REPLACE FECTAC WITH F0, RESULT WITH SPACE(1)
REPLACE FINLAC WITH F0
REPLACE REFILA WITH SPACE(1)
REPLACE PARSER WITH 0, PARPRE WITH 0
REPLACE ANTSEC WITH DIASEC, DIASEC WITH 0, ANTLAC WITH 0, DIAGES WITH 0
REPLACE ULTPRO WITH 0, ACUPRO WITH 0
REPLACE MARENF WITH .F.
*SELECT BACSER
* - APPEND FROM SERVIC FOR CODVAC = COD
* - SELECT SERVIC
* - DELETE FOR CODVAC = COD
* - SELECT BACENF
* - APPEND FROM ENFERM FOR CODVAC = COD
* - SELECT ENFERM
* - DELETE FOR CODVAC = COD
***   ALTA AUTOMATICA   ***
if tpa#"A" .and. tpa#"M"

   * alta en guachera
   gua = iif( sex="M", gua, sex )
   select guache
   APPEND BLANK
   REPLACE CODIGO WITH GUA, FECENT WITH FPA, PADRE WITH TOR,;
   MADRE WITH COD , CANDIA WITH VAL(STR(DIA-FPA,3))
   select tambo

   * alta en el tambo
   IF SEX#'M'
      SELECT TAMBO
      COMMIT
      APPEND BLANK
      REPLACE CODVAC WITH SEX, FECNAC WITH FPA, PADRE WITH TOR, MADRE WITH COD
   ENDIF

endi
