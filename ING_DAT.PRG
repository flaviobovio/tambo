PROCEDURE ING_DAT()
TD=TIP_DAT()
PRIVATE COD , FNA , PAD , MAD, WRC
PRIVATE FSE := CTOD('') , TOR := SPACE(4) , INS := SPACE(4) , NSE := 0
PRIVATE FTA := CTOD('') , RES
PRIVATE FPA := CTOD('') , SEX , NPA := 0, TPA, gua
PRIVATE FIN := CTOD('')
PRIVATE RFL := 'R' , CFL
PRIVATE TO1 , TO2
PRIVATE FEN := CTOD('') , DPA:=0 , DAC:=0, MOT[2] ,TRA[4], DES:=SPACE(1)
DO WHILE .T.
   CLS
   COD = SPACE(8)
   @  0,31 SAY "旼컴컴컴컴컴컴컴커"
   @  1,31 SAY " VACA:          "
   @  2,31 SAY "읕컴컴컴컴컴컴컴켸"
   MENSAJE('INGRESE EL CODIGO')
   SET CURSOR ON
   IF TD=1
      @  1,39 GET COD PICTURE '@!' VALID NOEXISTE(COD)
      READ
   ELSEIF TD#8
      @  1,39 GET COD PICTURE '@!' VALID EXISTE(COD)
      READ
   ENDIF
   SET CURSOR OFF
   @24, 0 CLEAR
   IF TD # 8
      LINEA=MOS_VAC(COD,TD)
      DEM_DAT(TD,LINEA)
   ELSE
      ING_PRO()
      RETURN
   ENDIF
   IF ACEPTA() .AND. SUBSTR(CURDIR(), AT( "\",CURDIR() )+1 )#'ESTRUC'
      REG_DAT(TD)
   ENDIF
   MENSAJE ('< Enter > CONTINUAR INGRESANDO    < F > FINALIZAR')
   Z=0
   DO WHILE Z#13 .AND. UPPER(CHR(Z))#'F'
      Z=INKEY()
   ENDDO
   @ 24, 0 CLEAR
   IF Z#13
      EXIT
   ENDIF
ENDDO
# INCLUDE "ING_PRO.PRG"
# INCLUDE "REG_DAT.PRG"
